<!DOCTYPE html>
<html>
<body>
  <canvas id="canvas" width="512" height="512"></canvas>
  <div id="output"></div>
  <script>
    const img = new Image();
    img.onload = () => {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      
      // Fill white background
      ctx.fillStyle = '#ffffff';
      ctx.fillRect(0, 0, 512, 512);
      
      // Calculate scaled dimensions to fit within 70% of canvas (padding)
      const padding = 0.15; // 15% padding on each side
      const safeSize = 512 * (1 - 2 * padding);
      
      const scale = Math.min(safeSize / img.width, safeSize / img.height);
      const w = img.width * scale;
      const h = img.height * scale;
      
      const x = (512 - w) / 2;
      const y = (512 - h) / 2;
      
      ctx.drawImage(img, x, y, w, h);
      
      // Output as Base64 to div
      document.getElementById('output').innerText = canvas.toDataURL('image/png');
    };
    img.src = '/icons/icon-512.png'; // Load the raw copied image
  </script>
</body>
</html>
